## Задание

Реализовать погодное приложение, состоящее из 2 экранов:
1. Экран списка городов. Города жёстко прописаны в приложении. При нажатии на элемент списка открывается экран погоды.
2. Экран погоды. Отображает данные о погоде по выбранному городу. Можно использовать любое открытое API для загрузки данных.

При разработке необходимо использовать архитектуру Bloc, для загрузки дынных использовать библиотеки Dio + Retrofit. Необходимо также предусмотреть корректную работу приложения при отсутствии интернета.

Будет плюсом, если приложение будет корректно обрабатывать поворот экрана и обновлять интерфейс соответствующим образом.
https://www.figma.com/file/GFErbWHf91xg613PUo8ONT/Minimal-Weather-App-(Community)?node-id=0%3A1

## Решение

Приложение написано и протестировано на Android.
Ниже прокомментированы все условия задания. Указано что мне удалось и не удалось сделать.

> 1. Экран списка городов. Города жёстко прописаны в приложении. При нажатии на элемент списка открывается экран погоды.
> 2. Экран погоды. Отображает данные о погоде по выбранному городу. Можно использовать любое открытое API для загрузки данных.

1. Требуемые экраны реализованы. Переход на экран погоды осуществляется при нажатии на элемент списка. Переход назад на экран списка городов - нажатием на кнопку "назад" в нижней части экрана. 
В файле `lib/bloc/weather_repo.dart` находится массив из городов.

2. Для получения данных о погоде использовался API https://openweathermap.org/api.
API ключ хранится в файле `assets/api_key.json` в следующем формате:
```json
{
    "key": "your_key"
}
```
Для получения API ключа вы можете самостоятельно бесплатно зарегистироваться на указанном выше сайте, либо обратиться по почте k.popovskikh@mail.ru.

> При разработке необходимо использовать архитектуру Bloc,

Мной была реализована архитектура Bloc.

При нажатии на элемент списка городов проиcходит:
- переход на экран погоды 
- Вызов события bloc `FetchWeather`

На экране погоды отрабатываются следующие состояния:
- `WeatherIsLoading` - запрос к API сделан но ответ еще не получен
- `WeatherIsLoaded` - получен ответ от API с корректными данными
- `WeatherIsNotLoaded` - невозможно сделать запрос к API либо API возвращает некорректные данные

Реализация паттерна Bloc была сделана мной впервые. До этого я использовал только стандартные `FutureBuilder` и `StreamBuilder`, а так же `ChangeNotifierProvider`. Однако мне понравилась концепция данного паттерна и я бы с удовольствием изучил его подробнее.

> для загрузки дынных использовать библиотеки Dio + Retrofit.

to be changed

>  Необходимо также предусмотреть корректную работу приложения при отсутствии интернета.

to be changed

> Будет плюсом, если приложение будет корректно обрабатывать поворот экрана и обновлять интерфейс соответствующим образом. https://www.figma.com/file/GFErbWHf91xg613PUo8ONT/Minimal-Weather-App-(Community)?node-id=0%3A1

Была реализована обработка поворота экрана в зависимости от `MediaQuery.of(context).orientation`:

![image](https://user-images.githubusercontent.com/85007290/146358156-3bbbc48c-088d-433b-abf3-c2c3e0179a99.png)
